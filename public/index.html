<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="icon" href="<%= BASE_URL %>favicon.ico">
    <title>BaseCMS Management Components</title>
    <script>
      (function(w, f) {
        var l = f + 'Queue'; w[l] = w[l] || [];
        w[f] = w[f] || function() { w[l].push(arguments); };
      })(window, 'bmc');
    </script>

    <style>
      /* example styles */
      *,
      *::before,
      *::after {
        box-sizing: border-box;
      }
      html {
        font-family: serif;
        line-height: 1.15;
      }
      body {
        margin: 0;
        text-align: left;
      }
      .container {
        width: 100%;
        padding-right: 15px;
        padding-left: 15px;
        margin-right: auto;
        margin-left: auto;
      }
      .row {
        display: flex;
        flex-wrap: wrap;
        margin-right: -15px;
        margin-left: -15px;
      }
      .col {
        flex: 0 0 100%;
        width: 100%;
        padding-right: 15px;
        padding-left: 15px;
      }
    </style>
  </head>
  <body>
    <script>
      bmc('configure', {
        graphqlUri: 'https://graphql.tauron.base.parameter1.com',
        tenantKey: 'p1_sandbox',
        baseApiUri: 'https://manage.parameter1.dev',
        debug: true,
      });

      const registration = {
        isRequired: false,
        bypassGating: false,
        startDate: null,
        endDate: null,
      };

      bmc('loadComponent', {
        name: 'registration',
        el: '#component-registration',
        props: registration,
        on: {
          change: ({ field, value }) => {
            registration[field] = value;
          },
        },
      });

      bmc('loadComponent', {
        name: 'scheduling',
        el: '#component-scheduling',
        props: { contentId: 21577444 },
      });

      bmc('loadComponent', {
        name: 'primary-section',
        el: '#component-primary-section-empty',
        on: { change: (section) => console.log('primary-section change', section) }
      });

      bmc('loadComponent', {
        name: 'primary-section',
        el: '#component-primary-section-preselected',
        props: { sectionId: 64017 },
        on: { change: (section) => console.log('primary-section change', section) }
      });

      bmc('loadComponent', {
        name: 'primary-category',
        el: '#component-primary-category-empty',
        on: { change: (taxonomy) => console.log('primary-category change', taxonomy) }
      });

      bmc('loadComponent', {
        name: 'primary-category',
        el: '#component-primary-category-preselected',
        props: { categoryId: 3147 },
        on: { change: (taxonomy) => console.log('primary-category change', taxonomy) }
      });

      bmc('loadComponent', {
        name: 'related-taxonomies',
        el: '#component-related-taxonomies-empty',
        props: { type: 'Category' },
        on: { change: (taxonomy) => console.log('related-taxonomies change', taxonomy) }
      });

      bmc('loadComponent', {
        name: 'related-taxonomies',
        el: '#component-related-taxonomies-preselected',
        props: { type: 'Category', ids: [3115, 3132] },
        on: { change: (taxonomy) => console.log('related-taxonomies change', taxonomy) }
      });


    </script>
    <div id="bmc-datetime-portal" class="bmc-portal"></div>
    <noscript>
      <strong>We're sorry but this page doesn't work properly without JavaScript enabled. Please enable it to continue.</strong>
    </noscript>
    <div class="container">
      <div class="row">
        <div class="col" style="max-width: 380px;">
          <h4>Registration</h4>
          <div id="component-registration"></div>
        </div>
      </div>

      <div class="row">
        <div class="col" style="max-width: 380px;">
          <h4>Scheduling</h4>
          <div id="component-scheduling"></div>
        </div>
      </div>

      <div class="row">
        <div class="col" style="max-width: 500px;">
          <h4>Primary Section (Empty)</h4>
          <div id="component-primary-section-empty"></div>
        </div>
      </div>

      <div class="row">
        <div class="col" style="max-width: 500px;">
          <h4>Primary Section (Pre-Selected)</h4>
          <div id="component-primary-section-preselected"></div>
        </div>
      </div>

      <div class="row">
        <div class="col" style="max-width: 500px;">
          <h4>Primary Category (Empty)</h4>
          <div id="component-primary-category-empty"></div>
        </div>
      </div>

      <div class="row">
        <div class="col" style="max-width: 500px;">
          <h4>Primary Category (Pre-Selected)</h4>
          <div id="component-primary-category-preselected"></div>
        </div>
      </div>

      <div class="row">
        <div class="col" style="max-width: 500px;">
          <h4>Related Taxonomies (Empty)</h4>
          <div id="component-related-taxonomies-empty"></div>
        </div>
      </div>

      <div class="row">
        <div class="col" style="max-width: 500px;">
          <h4>Related Taxonomies (Pre-Selected)</h4>
          <div id="component-related-taxonomies-preselected"></div>
        </div>
      </div>
    </div>
  </body>
</html>
